# Noderr Monitoring Stack Environment Configuration

# =============================================================================
# Grafana Configuration
# =============================================================================

# Admin credentials
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change_me_to_strong_password

# Server settings
GF_SERVER_ROOT_URL=http://localhost:3000
GF_SERVER_DOMAIN=localhost

# Security
GF_SECURITY_ADMIN_PASSWORD=${GRAFANA_ADMIN_PASSWORD}
GF_SECURITY_SECRET_KEY=change_me_to_random_string

# Database (SQLite by default, can use PostgreSQL)
GF_DATABASE_TYPE=sqlite3
# GF_DATABASE_HOST=postgres:5432
# GF_DATABASE_NAME=grafana
# GF_DATABASE_USER=grafana
# GF_DATABASE_PASSWORD=grafana_password

# Authentication (optional)
# GF_AUTH_ANONYMOUS_ENABLED=false
# GF_AUTH_DISABLE_LOGIN_FORM=false

# =============================================================================
# Prometheus Configuration
# =============================================================================

# Retention
PROMETHEUS_RETENTION_TIME=30d
PROMETHEUS_RETENTION_SIZE=10GB

# Storage
PROMETHEUS_STORAGE_PATH=/prometheus

# =============================================================================
# Loki Configuration
# =============================================================================

# Retention
LOKI_RETENTION_PERIOD=30d

# Limits
LOKI_INGESTION_RATE_MB=10
LOKI_MAX_QUERY_LENGTH=721h

# =============================================================================
# Alertmanager Configuration
# =============================================================================

# Email (SMTP)
SMTP_FROM=alerts@noderr.network
SMTP_SMARTHOST=smtp.gmail.com:587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_TO=admin@noderr.network

# Webhook (Slack, Discord, etc.)
WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# PagerDuty (optional)
# PAGERDUTY_SERVICE_KEY=your-service-key

# =============================================================================
# Node Exporter Configuration
# =============================================================================

# Collectors to enable
NODE_EXPORTER_COLLECTORS=cpu,diskstats,filesystem,loadavg,meminfo,netdev,stat,time,uname

# =============================================================================
# Promtail Configuration
# =============================================================================

# Log paths
PROMTAIL_LOG_PATH=/var/log

# =============================================================================
# Network Configuration
# =============================================================================

# External ports (change if conflicts)
GRAFANA_PORT=3000
PROMETHEUS_PORT=9090
LOKI_PORT=3100
ALERTMANAGER_PORT=9093
NODE_EXPORTER_PORT=9100
CADVISOR_PORT=8080
PROMTAIL_PORT=9080

# =============================================================================
# Resource Limits
# =============================================================================

# Memory limits (adjust based on available resources)
PROMETHEUS_MEMORY_LIMIT=2g
LOKI_MEMORY_LIMIT=1g
GRAFANA_MEMORY_LIMIT=512m

# CPU limits
PROMETHEUS_CPU_LIMIT=2
LOKI_CPU_LIMIT=1
GRAFANA_CPU_LIMIT=1

# =============================================================================
# Timezone
# =============================================================================

TZ=UTC
